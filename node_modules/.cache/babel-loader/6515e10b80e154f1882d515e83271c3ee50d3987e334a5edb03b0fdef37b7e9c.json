{"ast":null,"code":"import React,{useState,useRef,useEffect}from'react';import{Box,TextField,InputAdornment,Typography,Paper,IconButton,Avatar,Chip,alpha,useTheme,CircularProgress,Tooltip}from'@mui/material';import{Search as SearchIcon,Send as SendIcon,Close as CloseIcon,Delete as DeleteIcon,Chat as ChatIcon,Keyboard as KeyboardIcon,History as HistoryIcon,Clear as ClearIcon}from'@mui/icons-material';import{motion,AnimatePresence}from'framer-motion';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const UnifiedSearch=_ref=>{let{isOpen,onClose,onSearch,onChatSubmit,searchResults,chatHistory,clearHistory,isChatMode,onResultClick}=_ref;const theme=useTheme();const[query,setQuery]=useState('');const[isLoading,setIsLoading]=useState(false);const[showScrollTop,setShowScrollTop]=useState(false);const[showKeyboardShortcuts,setShowKeyboardShortcuts]=useState(false);const searchInputRef=useRef(null);const chatContainerRef=useRef(null);const overlayContentRef=useRef(null);useEffect(()=>{if(isOpen&&searchInputRef.current){searchInputRef.current.focus();}if(!isOpen){setQuery('');setIsLoading(false);}},[isOpen]);const handleOverlayClick=e=>{// Close only if clicking the backdrop (not the content)\nif(e.target===e.currentTarget){onClose();}};const handleSearch=async e=>{const value=e.target.value;setQuery(value);if(!isChatMode&&value.trim()){setIsLoading(true);await onSearch(value);setIsLoading(false);}};const handleKeyPress=async e=>{if(e.key==='Enter'&&!e.shiftKey){e.preventDefault();if(query.trim()){setIsLoading(true);await onChatSubmit(query);setQuery('');setIsLoading(false);if(chatContainerRef.current){chatContainerRef.current.scrollTop=chatContainerRef.current.scrollHeight;}}}};const handleScroll=e=>{setShowScrollTop(e.currentTarget.scrollTop>200);};const scrollToTop=()=>{if(chatContainerRef.current){chatContainerRef.current.scrollTo({top:0,behavior:'smooth'});}};const formatTimestamp=date=>{return new Date(date).toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'});};const keyboardShortcuts=[{key:'⌘ K',description:'Open/Close Search'},{key:'⌘ /',description:'Toggle Chat Mode'},{key:'ESC',description:'Close Search'},{key:'↑ ↓',description:'Navigate Results'},{key:'Enter',description:'Select Result/Send Message'}];return/*#__PURE__*/_jsx(AnimatePresence,{mode:\"wait\",children:isOpen&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0},animate:{opacity:1,transition:{duration:0.5,ease:[0.2,0,0.2,1]}},exit:{opacity:0,transition:{duration:0.4,ease:[0.2,0,0.2,1]}},style:{position:'fixed',top:0,left:0,right:0,bottom:0,backgroundColor:alpha(theme.palette.background.default,0.85),backdropFilter:'blur(12px)',zIndex:theme.zIndex.modal,display:'flex',flexDirection:'column',justifyContent:'flex-end',alignItems:'center',overflow:'hidden'},onClick:handleOverlayClick,children:/*#__PURE__*/_jsxs(motion.div,{ref:overlayContentRef,initial:{width:'800px',y:'-60vh',scale:0.95},animate:{width:'80%',y:0,scale:1,transition:{duration:0.7,ease:[0.2,0.1,0.3,1],width:{duration:0.6,ease:[0.4,0,0.2,1]},y:{duration:0.7,ease:[0.2,0.1,0.3,1]},scale:{duration:0.7,ease:[0.2,0.1,0.3,1]}}},exit:{width:'800px',y:'-60vh',scale:0.95,transition:{duration:0.6,ease:[0.4,0.1,0.3,1]}},style:{margin:'0 auto',padding:'16px',display:'flex',flexDirection:'column',position:'relative',minWidth:'min(80%, 1200px)',maxWidth:'1400px',transformOrigin:'center center'},children:[/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:0.4,duration:0.4}},exit:{opacity:0,transition:{duration:0.3}},children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',justifyContent:'space-between',px:3,mb:2},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',gap:2},children:[/*#__PURE__*/_jsx(Chip,{icon:isChatMode?/*#__PURE__*/_jsx(ChatIcon,{}):/*#__PURE__*/_jsx(SearchIcon,{}),label:isChatMode?\"Chat Mode\":\"Search Mode\",color:\"primary\",variant:\"filled\",sx:{borderRadius:'12px',height:'36px','& .MuiChip-label':{px:2,fontSize:'0.9rem',fontWeight:500}}}),/*#__PURE__*/_jsx(Tooltip,{title:\"Toggle Keyboard Shortcuts\",children:/*#__PURE__*/_jsx(IconButton,{size:\"small\",onClick:()=>setShowKeyboardShortcuts(!showKeyboardShortcuts),sx:{bgcolor:alpha(theme.palette.primary.main,0.1),'&:hover':{bgcolor:alpha(theme.palette.primary.main,0.2)}},children:/*#__PURE__*/_jsx(KeyboardIcon,{fontSize:\"small\"})})})]}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',gap:1},children:[chatHistory.length>0&&/*#__PURE__*/_jsx(Tooltip,{title:\"Clear History\",children:/*#__PURE__*/_jsx(IconButton,{onClick:clearHistory,size:\"small\",sx:{color:theme.palette.error.main,'&:hover':{bgcolor:alpha(theme.palette.error.main,0.1)}},children:/*#__PURE__*/_jsx(DeleteIcon,{fontSize:\"small\"})})}),/*#__PURE__*/_jsx(IconButton,{onClick:onClose,size:\"small\",sx:{bgcolor:alpha('#000',0.05),'&:hover':{bgcolor:alpha('#000',0.1)}},children:/*#__PURE__*/_jsx(CloseIcon,{fontSize:\"small\"})})]})]})}),/*#__PURE__*/_jsx(AnimatePresence,{children:showKeyboardShortcuts&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,height:0,y:-10},animate:{opacity:1,height:'auto',y:0,transition:{height:{duration:0.3,ease:[0.4,0,0.2,1]},opacity:{duration:0.2,delay:0.1},y:{duration:0.3,ease:'easeOut'}}},exit:{opacity:0,height:0,y:-5,transition:{height:{duration:0.3,ease:[0.4,0,0.2,1]},opacity:{duration:0.2},y:{duration:0.2}}},children:/*#__PURE__*/_jsxs(Paper,{elevation:0,sx:{mx:3,p:2,mb:2,borderRadius:'16px',bgcolor:alpha(theme.palette.background.paper,0.8),border:`1px solid ${alpha(theme.palette.primary.main,0.1)}`},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",sx:{mb:1,color:alpha('#000',0.7)},children:\"Keyboard Shortcuts\"}),/*#__PURE__*/_jsx(Box,{sx:{display:'flex',flexWrap:'wrap',gap:2},children:keyboardShortcuts.map(shortcut=>/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',gap:1},children:[/*#__PURE__*/_jsx(Chip,{label:shortcut.key,size:\"small\",sx:{fontFamily:'monospace',bgcolor:alpha(theme.palette.primary.main,0.1),color:theme.palette.primary.main,fontWeight:600}}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",sx:{color:alpha('#000',0.6)},children:shortcut.description})]},shortcut.key))})]})})}),/*#__PURE__*/_jsxs(Paper,{elevation:0,component:motion.div,initial:{opacity:0},animate:{opacity:1,transition:{delay:0.2,duration:0.5}},exit:{opacity:0,transition:{duration:0.3}},sx:{flex:1,borderRadius:'20px 20px 0 0',bgcolor:'white',overflow:'hidden',border:`1px solid ${alpha('#000',0.1)}`,borderBottom:0,boxShadow:`0 -4px 20px ${alpha('#000',0.1)}`,width:'100%'},children:[!isChatMode&&/*#__PURE__*/_jsx(Box,{sx:{height:query.trim()?'calc(90vh - 180px)':'auto',overflowY:'auto',p:3},children:searchResults.length>0?/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:0.5,duration:0.4}},exit:{opacity:0,transition:{duration:0.3}},children:searchResults.map(group=>/*#__PURE__*/_jsxs(Box,{sx:{mb:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",sx:{fontWeight:600,color:alpha('#000',0.87),mb:2},children:group.title}),/*#__PURE__*/_jsx(Box,{sx:{display:'flex',flexDirection:group.type==='tools'?'row':'column',gap:group.type==='tools'?2:1.5,flexWrap:group.type==='tools'?'wrap':'nowrap'},children:group.results.map(result=>/*#__PURE__*/_jsxs(Box,{onClick:()=>onResultClick(result),sx:{display:'flex',alignItems:group.type==='tools'?'center':'flex-start',gap:2,p:2,borderRadius:'12px',cursor:'pointer',transition:'all 0.2s ease',border:'1px solid',borderColor:alpha('#000',0.1),...(group.type==='tools'&&{flex:'0 1 auto',minWidth:'200px',maxWidth:'300px'}),'&:hover':{backgroundColor:alpha(theme.palette.primary.main,0.04),transform:'translateY(-1px)',borderColor:alpha(theme.palette.primary.main,0.2)}},children:[result.icon&&/*#__PURE__*/_jsx(Box,{sx:{width:40,height:40,borderRadius:'10px',display:'flex',alignItems:'center',justifyContent:'center',backgroundColor:result.color?alpha(result.color,0.1):alpha(theme.palette.primary.main,0.1),color:result.color||theme.palette.primary.main},children:result.icon}),/*#__PURE__*/_jsxs(Box,{sx:{flex:1},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',gap:1,flexWrap:'wrap'},children:[/*#__PURE__*/_jsx(Typography,{sx:{fontWeight:600,color:alpha('#000',0.87)},children:result.title}),result.type==='data'&&/*#__PURE__*/_jsxs(_Fragment,{children:[result.dataOwner&&/*#__PURE__*/_jsx(Chip,{label:`Owner: ${result.dataOwner}`,size:\"small\",sx:{height:'20px',fontSize:'0.75rem',bgcolor:alpha(theme.palette.info.main,0.1),color:theme.palette.info.main,fontWeight:500}}),result.dataSource&&/*#__PURE__*/_jsx(Chip,{label:`Source: ${result.dataSource}`,size:\"small\",sx:{height:'20px',fontSize:'0.75rem',bgcolor:alpha(theme.palette.success.main,0.1),color:theme.palette.success.main,fontWeight:500}}),result.latency&&/*#__PURE__*/_jsx(Chip,{label:`Latency: ${result.latency}`,size:\"small\",sx:{height:'20px',fontSize:'0.75rem',bgcolor:alpha(theme.palette.warning.main,0.1),color:theme.palette.warning.main,fontWeight:500}})]})]}),result.type==='data'&&result.path&&result.path.length>0&&/*#__PURE__*/_jsx(Typography,{sx:{fontSize:'0.75rem',color:alpha('#000',0.5),fontFamily:'monospace',mt:0.5},children:result.path.join(' / ')})]})]},result.id))})]},group.type))}):/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0,transition:{delay:0.5,duration:0.6,ease:[0.2,0.1,0.3,1],opacity:{duration:0.5},y:{duration:0.6,ease:[0.2,0.1,0.3,1]}}},exit:{opacity:0,y:10,transition:{duration:0.4,ease:[0.4,0,0.2,1]}},children:/*#__PURE__*/_jsx(Box,{sx:{height:query.trim()?'100%':'400px',display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center',gap:2,color:alpha('#000',0.5)},children:query.trim()?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(SearchIcon,{sx:{fontSize:48,opacity:0.5}}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"No results found\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Try different keywords or press Enter to start a chat\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',flexDirection:'column',alignItems:'center',gap:1},children:[/*#__PURE__*/_jsx(SearchIcon,{sx:{fontSize:48,opacity:0.5}}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Start searching\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",textAlign:\"center\",children:\"Search for tools, data, or press Enter to start a chat\"})]}),/*#__PURE__*/_jsxs(Box,{sx:{mt:3,display:'flex',flexDirection:'column',gap:1},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",sx:{opacity:0.7},children:\"Try searching for:\"}),/*#__PURE__*/_jsx(Box,{sx:{display:'flex',gap:1,flexWrap:'wrap',justifyContent:'center'},children:['Data Wizard','Customer Segments','API Documentation'].map(suggestion=>/*#__PURE__*/_jsx(Chip,{label:suggestion,onClick:()=>{setQuery(suggestion);if(searchInputRef.current){searchInputRef.current.value=suggestion;searchInputRef.current.dispatchEvent(new Event('change',{bubbles:true}));}},sx:{cursor:'pointer','&:hover':{bgcolor:alpha(theme.palette.primary.main,0.1)}}},suggestion))})]})]})})})}),isChatMode&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:0.3,duration:0.3}},exit:{opacity:0,transition:{duration:0.2}},children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',height:'calc(90vh - 180px)'},children:[/*#__PURE__*/_jsx(Box,{ref:chatContainerRef,onScroll:handleScroll,sx:{flex:'1 1 70%',overflowY:'auto',p:3,display:'flex',flexDirection:'column',gap:3},children:chatHistory.filter(message=>!message.isSearchQuery).map(message=>/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.3},children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',flexDirection:message.type==='user'?'row-reverse':'row',gap:2,alignItems:'flex-end'},children:[/*#__PURE__*/_jsx(Avatar,{sx:{width:32,height:32,bgcolor:message.type==='user'?'primary.main':'secondary.main',boxShadow:`0 2px 8px ${alpha('#000',0.1)}`},children:message.type==='user'?'U':'A'}),/*#__PURE__*/_jsxs(Box,{sx:{maxWidth:'70%'},children:[/*#__PURE__*/_jsx(Paper,{elevation:0,sx:{p:2,borderRadius:'16px',bgcolor:message.type==='user'?alpha(theme.palette.primary.main,0.1):alpha(theme.palette.grey[100],0.8),color:message.type==='user'?theme.palette.primary.main:theme.palette.text.primary,border:'1px solid',borderColor:message.type==='user'?alpha(theme.palette.primary.main,0.2):alpha('#000',0.1)},children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",sx:{whiteSpace:'pre-wrap'},children:message.content})}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",sx:{mt:0.5,display:'block',textAlign:message.type==='user'?'right':'left',color:alpha('#000',0.5)},children:formatTimestamp(message.timestamp)})]})]})},message.id))}),/*#__PURE__*/_jsxs(Box,{sx:{flex:'0 0 30%',borderLeft:`1px solid ${alpha('#000',0.1)}`,bgcolor:alpha('#000',0.02),display:{xs:'none',md:'flex'},flexDirection:'column'},children:[/*#__PURE__*/_jsxs(Box,{sx:{p:2,borderBottom:`1px solid ${alpha('#000',0.1)}`,display:'flex',alignItems:'center',justifyContent:'space-between'},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',gap:1},children:[/*#__PURE__*/_jsx(HistoryIcon,{sx:{fontSize:20,color:alpha('#000',0.5)}}),/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",sx:{fontWeight:600},children:\"Chat History\"})]}),/*#__PURE__*/_jsx(Tooltip,{title:\"Clear All\",children:/*#__PURE__*/_jsx(IconButton,{size:\"small\",onClick:clearHistory,children:/*#__PURE__*/_jsx(ClearIcon,{fontSize:\"small\"})})})]}),/*#__PURE__*/_jsx(Box,{sx:{p:2,overflowY:'auto'},children:[{id:'h1',title:'Data Schema Questions',date:'2 hours ago',messageCount:4},{id:'h2',title:'API Integration Help',date:'5 hours ago',messageCount:6},{id:'h3',title:'Workflow Automation',date:'Yesterday',messageCount:3}].map(history=>/*#__PURE__*/_jsxs(Paper,{elevation:0,sx:{p:2,mb:1,borderRadius:'12px',cursor:'pointer',border:'1px solid',borderColor:alpha('#000',0.1),transition:'all 0.2s ease','&:hover':{bgcolor:alpha(theme.palette.primary.main,0.05),borderColor:alpha(theme.palette.primary.main,0.2),transform:'translateY(-1px)'}},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",sx:{fontWeight:500,mb:0.5},children:history.title}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"caption\",sx:{color:alpha('#000',0.5)},children:history.date}),/*#__PURE__*/_jsx(Chip,{label:`${history.messageCount} msgs`,size:\"small\",sx:{height:'20px',fontSize:'0.75rem',bgcolor:alpha(theme.palette.primary.main,0.1),color:theme.palette.primary.main}})]})]},history.id))})]})]})}),/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:0.3,duration:0.4}},exit:{opacity:0,transition:{duration:0.3}},children:/*#__PURE__*/_jsx(Box,{sx:{p:2,borderTop:`1px solid ${alpha('#000',0.1)}`,bgcolor:'white'},children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,multiline:true,maxRows:4,inputRef:searchInputRef,value:query,onChange:handleSearch,onKeyPress:handleKeyPress,placeholder:isChatMode?\"Type your message...\":\"Search or press Enter to chat...\",InputProps:{startAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"start\",children:isChatMode?/*#__PURE__*/_jsx(ChatIcon,{sx:{color:theme.palette.primary.main}}):/*#__PURE__*/_jsx(SearchIcon,{sx:{color:alpha('#000',0.5)}})}),endAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"end\",children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',gap:1},children:[isLoading?/*#__PURE__*/_jsx(CircularProgress,{size:24}):isChatMode&&query.trim()&&/*#__PURE__*/_jsx(IconButton,{color:\"primary\",onClick:()=>handleKeyPress({key:'Enter',shiftKey:false,preventDefault:()=>{}}),children:/*#__PURE__*/_jsx(SendIcon,{})}),/*#__PURE__*/_jsx(Chip,{label:\"\\u2318K\",size:\"small\",sx:{height:'24px',bgcolor:alpha('#000',0.05),color:alpha('#000',0.6),fontFamily:'monospace',fontWeight:600}})]})})},sx:{'& .MuiOutlinedInput-root':{borderRadius:'12px',bgcolor:alpha('#000',0.02),'&:hover':{bgcolor:alpha('#000',0.03)},'&.Mui-focused':{bgcolor:'#fff'}}}})})})]})]})})});};export default UnifiedSearch;","map":{"version":3,"names":["React","useState","useRef","useEffect","Box","TextField","InputAdornment","Typography","Paper","IconButton","Avatar","Chip","alpha","useTheme","CircularProgress","Tooltip","Search","SearchIcon","Send","SendIcon","Close","CloseIcon","Delete","DeleteIcon","Chat","ChatIcon","Keyboard","KeyboardIcon","History","HistoryIcon","Clear","ClearIcon","motion","AnimatePresence","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","UnifiedSearch","_ref","isOpen","onClose","onSearch","onChatSubmit","searchResults","chatHistory","clearHistory","isChatMode","onResultClick","theme","query","setQuery","isLoading","setIsLoading","showScrollTop","setShowScrollTop","showKeyboardShortcuts","setShowKeyboardShortcuts","searchInputRef","chatContainerRef","overlayContentRef","current","focus","handleOverlayClick","e","target","currentTarget","handleSearch","value","trim","handleKeyPress","key","shiftKey","preventDefault","scrollTop","scrollHeight","handleScroll","scrollToTop","scrollTo","top","behavior","formatTimestamp","date","Date","toLocaleTimeString","hour","minute","keyboardShortcuts","description","mode","children","div","initial","opacity","animate","transition","duration","ease","exit","style","position","left","right","bottom","backgroundColor","palette","background","default","backdropFilter","zIndex","modal","display","flexDirection","justifyContent","alignItems","overflow","onClick","ref","width","y","scale","margin","padding","minWidth","maxWidth","transformOrigin","delay","sx","px","mb","gap","icon","label","color","variant","borderRadius","height","fontSize","fontWeight","title","size","bgcolor","primary","main","length","error","elevation","mx","p","paper","border","flexWrap","map","shortcut","fontFamily","component","flex","borderBottom","boxShadow","overflowY","group","type","results","result","cursor","borderColor","transform","dataOwner","info","dataSource","success","latency","warning","path","mt","join","id","textAlign","suggestion","dispatchEvent","Event","bubbles","onScroll","filter","message","isSearchQuery","grey","text","whiteSpace","content","timestamp","borderLeft","xs","md","messageCount","history","borderTop","fullWidth","multiline","maxRows","inputRef","onChange","onKeyPress","placeholder","InputProps","startAdornment","endAdornment"],"sources":["/Users/sachet/Desktop/XIS/src/components/Search/UnifiedSearch.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport {\n  Box,\n  TextField,\n  InputAdornment,\n  Typography,\n  Paper,\n  IconButton,\n  Avatar,\n  Chip,\n  alpha,\n  useTheme,\n  CircularProgress,\n  Button,\n  Divider,\n  Tooltip,\n  Badge,\n} from '@mui/material';\nimport {\n  Search as SearchIcon,\n  Send as SendIcon,\n  Close as CloseIcon,\n  ArrowUpward as ScrollToTopIcon,\n  Delete as DeleteIcon,\n  Chat as ChatIcon,\n  Keyboard as KeyboardIcon,\n  History as HistoryIcon,\n  FilterList as FilterIcon,\n  Clear as ClearIcon,\n} from '@mui/icons-material';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { Tool } from '../../data/tools';\nimport { SearchResult, Message } from '../../types/search';\n\ninterface SearchResultGroup {\n  type: 'tools' | 'data';\n  title: string;\n  results: SearchResult[];\n}\n\ninterface UnifiedSearchProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onSearch: (query: string) => Promise<SearchResultGroup[]>;\n  onChatSubmit: (message: string) => Promise<void>;\n  searchResults: SearchResultGroup[];\n  chatHistory: Message[];\n  clearHistory: () => void;\n  isChatMode: boolean;\n  onResultClick: (result: Tool | SearchResult) => void;\n}\n\nconst UnifiedSearch: React.FC<UnifiedSearchProps> = ({\n  isOpen,\n  onClose,\n  onSearch,\n  onChatSubmit,\n  searchResults,\n  chatHistory,\n  clearHistory,\n  isChatMode,\n  onResultClick,\n}) => {\n  const theme = useTheme();\n  const [query, setQuery] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [showScrollTop, setShowScrollTop] = useState(false);\n  const [showKeyboardShortcuts, setShowKeyboardShortcuts] = useState(false);\n  const searchInputRef = useRef<HTMLInputElement>(null);\n  const chatContainerRef = useRef<HTMLDivElement>(null);\n  const overlayContentRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (isOpen && searchInputRef.current) {\n      searchInputRef.current.focus();\n    }\n    if (!isOpen) {\n      setQuery('');\n      setIsLoading(false);\n    }\n  }, [isOpen]);\n\n  const handleOverlayClick = (e: React.MouseEvent) => {\n    // Close only if clicking the backdrop (not the content)\n    if (e.target === e.currentTarget) {\n      onClose();\n    }\n  };\n\n  const handleSearch = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = e.target.value;\n    setQuery(value);\n    if (!isChatMode && value.trim()) {\n      setIsLoading(true);\n      await onSearch(value);\n      setIsLoading(false);\n    }\n  };\n\n  const handleKeyPress = async (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      if (query.trim()) {\n        setIsLoading(true);\n        await onChatSubmit(query);\n        setQuery('');\n        setIsLoading(false);\n        if (chatContainerRef.current) {\n          chatContainerRef.current.scrollTop = chatContainerRef.current.scrollHeight;\n        }\n      }\n    }\n  };\n\n  const handleScroll = (e: React.UIEvent<HTMLDivElement>) => {\n    setShowScrollTop(e.currentTarget.scrollTop > 200);\n  };\n\n  const scrollToTop = () => {\n    if (chatContainerRef.current) {\n      chatContainerRef.current.scrollTo({ top: 0, behavior: 'smooth' });\n    }\n  };\n\n  const formatTimestamp = (date: Date) => {\n    return new Date(date).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\n  };\n\n  const keyboardShortcuts = [\n    { key: '⌘ K', description: 'Open/Close Search' },\n    { key: '⌘ /', description: 'Toggle Chat Mode' },\n    { key: 'ESC', description: 'Close Search' },\n    { key: '↑ ↓', description: 'Navigate Results' },\n    { key: 'Enter', description: 'Select Result/Send Message' },\n  ];\n\n  return (\n    <AnimatePresence mode=\"wait\">\n      {isOpen && (\n        <motion.div\n          initial={{ opacity: 0 }}\n          animate={{ \n            opacity: 1,\n            transition: {\n              duration: 0.5,\n              ease: [0.2, 0, 0.2, 1]\n            }\n          }}\n          exit={{ \n            opacity: 0,\n            transition: {\n              duration: 0.4,\n              ease: [0.2, 0, 0.2, 1]\n            }\n          }}\n          style={{\n            position: 'fixed',\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            backgroundColor: alpha(theme.palette.background.default, 0.85),\n            backdropFilter: 'blur(12px)',\n            zIndex: theme.zIndex.modal,\n            display: 'flex',\n            flexDirection: 'column',\n            justifyContent: 'flex-end',\n            alignItems: 'center',\n            overflow: 'hidden',\n          }}\n          onClick={handleOverlayClick}\n        >\n          <motion.div\n            ref={overlayContentRef}\n            initial={{ \n              width: '800px',\n              y: '-60vh',\n              scale: 0.95,\n            }}\n            animate={{ \n              width: '80%',\n              y: 0,\n              scale: 1,\n              transition: {\n                duration: 0.7,\n                ease: [0.2, 0.1, 0.3, 1],\n                width: { \n                  duration: 0.6,\n                  ease: [0.4, 0, 0.2, 1]\n                },\n                y: { \n                  duration: 0.7,\n                  ease: [0.2, 0.1, 0.3, 1]\n                },\n                scale: { \n                  duration: 0.7,\n                  ease: [0.2, 0.1, 0.3, 1]\n                }\n              }\n            }}\n            exit={{ \n              width: '800px',\n              y: '-60vh',\n              scale: 0.95,\n              transition: {\n                duration: 0.6,\n                ease: [0.4, 0.1, 0.3, 1]\n              }\n            }}\n            style={{\n              margin: '0 auto',\n              padding: '16px',\n              display: 'flex',\n              flexDirection: 'column',\n              position: 'relative',\n              minWidth: 'min(80%, 1200px)',\n              maxWidth: '1400px',\n              transformOrigin: 'center center',\n            }}\n          >\n            {/* Header */}\n            <motion.div\n              initial={{ opacity: 0 }}\n              animate={{ \n                opacity: 1,\n                transition: {\n                  delay: 0.4,\n                  duration: 0.4\n                }\n              }}\n              exit={{ \n                opacity: 0,\n                transition: {\n                  duration: 0.3\n                }\n              }}\n            >\n              <Box sx={{ \n                display: 'flex', \n                alignItems: 'center', \n                justifyContent: 'space-between',\n                px: 3,\n                mb: 2 \n              }}>\n                <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>\n                  <Chip\n                    icon={isChatMode ? <ChatIcon /> : <SearchIcon />}\n                    label={isChatMode ? \"Chat Mode\" : \"Search Mode\"}\n                    color=\"primary\"\n                    variant=\"filled\"\n                    sx={{ \n                      borderRadius: '12px',\n                      height: '36px',\n                      '& .MuiChip-label': {\n                        px: 2,\n                        fontSize: '0.9rem',\n                        fontWeight: 500,\n                      },\n                    }}\n                  />\n                  <Tooltip title=\"Toggle Keyboard Shortcuts\">\n                    <IconButton \n                      size=\"small\"\n                      onClick={() => setShowKeyboardShortcuts(!showKeyboardShortcuts)}\n                      sx={{ \n                        bgcolor: alpha(theme.palette.primary.main, 0.1),\n                        '&:hover': {\n                          bgcolor: alpha(theme.palette.primary.main, 0.2),\n                        }\n                      }}\n                    >\n                      <KeyboardIcon fontSize=\"small\" />\n                    </IconButton>\n                  </Tooltip>\n                </Box>\n                <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n                  {chatHistory.length > 0 && (\n                    <Tooltip title=\"Clear History\">\n                      <IconButton\n                        onClick={clearHistory}\n                        size=\"small\"\n                        sx={{\n                          color: theme.palette.error.main,\n                          '&:hover': {\n                            bgcolor: alpha(theme.palette.error.main, 0.1),\n                          }\n                        }}\n                      >\n                        <DeleteIcon fontSize=\"small\" />\n                      </IconButton>\n                    </Tooltip>\n                  )}\n                  <IconButton\n                    onClick={onClose}\n                    size=\"small\"\n                    sx={{\n                      bgcolor: alpha('#000', 0.05),\n                      '&:hover': {\n                        bgcolor: alpha('#000', 0.1),\n                      }\n                    }}\n                  >\n                    <CloseIcon fontSize=\"small\" />\n                  </IconButton>\n                </Box>\n              </Box>\n            </motion.div>\n\n            {/* Keyboard Shortcuts Panel */}\n            <AnimatePresence>\n              {showKeyboardShortcuts && (\n                <motion.div\n                  initial={{ opacity: 0, height: 0, y: -10 }}\n                  animate={{ \n                    opacity: 1, \n                    height: 'auto', \n                    y: 0,\n                    transition: {\n                      height: { duration: 0.3, ease: [0.4, 0, 0.2, 1] },\n                      opacity: { duration: 0.2, delay: 0.1 },\n                      y: { duration: 0.3, ease: 'easeOut' }\n                    }\n                  }}\n                  exit={{ \n                    opacity: 0, \n                    height: 0, \n                    y: -5,\n                    transition: {\n                      height: { duration: 0.3, ease: [0.4, 0, 0.2, 1] },\n                      opacity: { duration: 0.2 },\n                      y: { duration: 0.2 }\n                    }\n                  }}\n                >\n                  <Paper\n                    elevation={0}\n                    sx={{\n                      mx: 3,\n                      p: 2,\n                      mb: 2,\n                      borderRadius: '16px',\n                      bgcolor: alpha(theme.palette.background.paper, 0.8),\n                      border: `1px solid ${alpha(theme.palette.primary.main, 0.1)}`,\n                    }}\n                  >\n                    <Typography variant=\"subtitle2\" sx={{ mb: 1, color: alpha('#000', 0.7) }}>\n                      Keyboard Shortcuts\n                    </Typography>\n                    <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 2 }}>\n                      {keyboardShortcuts.map((shortcut) => (\n                        <Box\n                          key={shortcut.key}\n                          sx={{\n                            display: 'flex',\n                            alignItems: 'center',\n                            gap: 1,\n                          }}\n                        >\n                          <Chip\n                            label={shortcut.key}\n                            size=\"small\"\n                            sx={{\n                              fontFamily: 'monospace',\n                              bgcolor: alpha(theme.palette.primary.main, 0.1),\n                              color: theme.palette.primary.main,\n                              fontWeight: 600,\n                            }}\n                          />\n                          <Typography variant=\"caption\" sx={{ color: alpha('#000', 0.6) }}>\n                            {shortcut.description}\n                          </Typography>\n                        </Box>\n                      ))}\n                    </Box>\n                  </Paper>\n                </motion.div>\n              )}\n            </AnimatePresence>\n\n            {/* Main Content Area */}\n            <Paper\n              elevation={0}\n              component={motion.div}\n              initial={{ opacity: 0 }}\n              animate={{ \n                opacity: 1,\n                transition: {\n                  delay: 0.2,\n                  duration: 0.5\n                }\n              }}\n              exit={{ \n                opacity: 0,\n                transition: {\n                  duration: 0.3\n                }\n              }}\n              sx={{\n                flex: 1,\n                borderRadius: '20px 20px 0 0',\n                bgcolor: 'white',\n                overflow: 'hidden',\n                border: `1px solid ${alpha('#000', 0.1)}`,\n                borderBottom: 0,\n                boxShadow: `0 -4px 20px ${alpha('#000', 0.1)}`,\n                width: '100%',\n              }}\n            >\n              {/* Search Results */}\n              {!isChatMode && (\n                <Box sx={{ \n                  height: query.trim() ? 'calc(90vh - 180px)' : 'auto',\n                  overflowY: 'auto',\n                  p: 3,\n                }}>\n                  {searchResults.length > 0 ? (\n                    <motion.div\n                      initial={{ opacity: 0 }}\n                      animate={{ \n                        opacity: 1,\n                        transition: {\n                          delay: 0.5,\n                          duration: 0.4\n                        }\n                      }}\n                      exit={{ \n                        opacity: 0,\n                        transition: {\n                          duration: 0.3\n                        }\n                      }}\n                    >\n                      {searchResults.map((group) => (\n                        <Box key={group.type} sx={{ mb: 3 }}>\n                          <Typography\n                            variant=\"subtitle1\"\n                            sx={{\n                              fontWeight: 600,\n                              color: alpha('#000', 0.87),\n                              mb: 2\n                            }}\n                          >\n                            {group.title}\n                          </Typography>\n                          <Box sx={{ \n                            display: 'flex', \n                            flexDirection: group.type === 'tools' ? 'row' : 'column',\n                            gap: group.type === 'tools' ? 2 : 1.5,\n                            flexWrap: group.type === 'tools' ? 'wrap' : 'nowrap'\n                          }}>\n                            {group.results.map((result) => (\n                              <Box\n                                key={result.id}\n                                onClick={() => onResultClick(result)}\n                                sx={{\n                                  display: 'flex',\n                                  alignItems: group.type === 'tools' ? 'center' : 'flex-start',\n                                  gap: 2,\n                                  p: 2,\n                                  borderRadius: '12px',\n                                  cursor: 'pointer',\n                                  transition: 'all 0.2s ease',\n                                  border: '1px solid',\n                                  borderColor: alpha('#000', 0.1),\n                                  ...(group.type === 'tools' && {\n                                    flex: '0 1 auto',\n                                    minWidth: '200px',\n                                    maxWidth: '300px',\n                                  }),\n                                  '&:hover': {\n                                    backgroundColor: alpha(theme.palette.primary.main, 0.04),\n                                    transform: 'translateY(-1px)',\n                                    borderColor: alpha(theme.palette.primary.main, 0.2),\n                                  },\n                                }}\n                              >\n                                {result.icon && (\n                                  <Box\n                                    sx={{\n                                      width: 40,\n                                      height: 40,\n                                      borderRadius: '10px',\n                                      display: 'flex',\n                                      alignItems: 'center',\n                                      justifyContent: 'center',\n                                      backgroundColor: result.color ? alpha(result.color, 0.1) : alpha(theme.palette.primary.main, 0.1),\n                                      color: result.color || theme.palette.primary.main,\n                                    }}\n                                  >\n                                    {result.icon}\n                                  </Box>\n                                )}\n                                <Box sx={{ flex: 1 }}>\n                                  <Box sx={{ \n                                    display: 'flex', \n                                    alignItems: 'center', \n                                    gap: 1,\n                                    flexWrap: 'wrap'\n                                  }}>\n                                    <Typography\n                                      sx={{\n                                        fontWeight: 600,\n                                        color: alpha('#000', 0.87),\n                                      }}\n                                    >\n                                      {result.title}\n                                    </Typography>\n                                    {result.type === 'data' && (\n                                      <>\n                                        {result.dataOwner && (\n                                          <Chip\n                                            label={`Owner: ${result.dataOwner}`}\n                                            size=\"small\"\n                                            sx={{\n                                              height: '20px',\n                                              fontSize: '0.75rem',\n                                              bgcolor: alpha(theme.palette.info.main, 0.1),\n                                              color: theme.palette.info.main,\n                                              fontWeight: 500,\n                                            }}\n                                          />\n                                        )}\n                                        {result.dataSource && (\n                                          <Chip\n                                            label={`Source: ${result.dataSource}`}\n                                            size=\"small\"\n                                            sx={{\n                                              height: '20px',\n                                              fontSize: '0.75rem',\n                                              bgcolor: alpha(theme.palette.success.main, 0.1),\n                                              color: theme.palette.success.main,\n                                              fontWeight: 500,\n                                            }}\n                                          />\n                                        )}\n                                        {result.latency && (\n                                          <Chip\n                                            label={`Latency: ${result.latency}`}\n                                            size=\"small\"\n                                            sx={{\n                                              height: '20px',\n                                              fontSize: '0.75rem',\n                                              bgcolor: alpha(theme.palette.warning.main, 0.1),\n                                              color: theme.palette.warning.main,\n                                              fontWeight: 500,\n                                            }}\n                                          />\n                                        )}\n                                      </>\n                                    )}\n                                  </Box>\n                                  {result.type === 'data' && result.path && result.path.length > 0 && (\n                                    <Typography\n                                      sx={{\n                                        fontSize: '0.75rem',\n                                        color: alpha('#000', 0.5),\n                                        fontFamily: 'monospace',\n                                        mt: 0.5,\n                                      }}\n                                    >\n                                      {result.path.join(' / ')}\n                                    </Typography>\n                                  )}\n                                </Box>\n                              </Box>\n                            ))}\n                          </Box>\n                        </Box>\n                      ))}\n                    </motion.div>\n                  ) : (\n                    <motion.div\n                      initial={{ opacity: 0, y: 20 }}\n                      animate={{ \n                        opacity: 1,\n                        y: 0,\n                        transition: {\n                          delay: 0.5,\n                          duration: 0.6,\n                          ease: [0.2, 0.1, 0.3, 1],\n                          opacity: { duration: 0.5 },\n                          y: { \n                            duration: 0.6,\n                            ease: [0.2, 0.1, 0.3, 1]\n                          }\n                        }\n                      }}\n                      exit={{ \n                        opacity: 0,\n                        y: 10,\n                        transition: {\n                          duration: 0.4,\n                          ease: [0.4, 0, 0.2, 1]\n                        }\n                      }}\n                    >\n                      <Box sx={{ \n                        height: query.trim() ? '100%' : '400px',\n                        display: 'flex',\n                        flexDirection: 'column',\n                        alignItems: 'center',\n                        justifyContent: 'center',\n                        gap: 2,\n                        color: alpha('#000', 0.5),\n                      }}>\n                        {query.trim() ? (\n                          <>\n                            <SearchIcon sx={{ fontSize: 48, opacity: 0.5 }} />\n                            <Typography variant=\"h6\">No results found</Typography>\n                            <Typography variant=\"body2\">\n                              Try different keywords or press Enter to start a chat\n                            </Typography>\n                          </>\n                        ) : (\n                          <>\n                            <Box sx={{ \n                              display: 'flex',\n                              flexDirection: 'column',\n                              alignItems: 'center',\n                              gap: 1,\n                            }}>\n                              <SearchIcon sx={{ fontSize: 48, opacity: 0.5 }} />\n                              <Typography variant=\"h6\">Start searching</Typography>\n                              <Typography variant=\"body2\" textAlign=\"center\">\n                                Search for tools, data, or press Enter to start a chat\n                              </Typography>\n                            </Box>\n                            <Box sx={{ \n                              mt: 3,\n                              display: 'flex',\n                              flexDirection: 'column',\n                              gap: 1,\n                            }}>\n                              <Typography variant=\"subtitle2\" sx={{ opacity: 0.7 }}>\n                                Try searching for:\n                              </Typography>\n                              <Box sx={{ display: 'flex', gap: 1, flexWrap: 'wrap', justifyContent: 'center' }}>\n                                {['Data Wizard', 'Customer Segments', 'API Documentation'].map((suggestion) => (\n                                  <Chip\n                                    key={suggestion}\n                                    label={suggestion}\n                                    onClick={() => {\n                                      setQuery(suggestion);\n                                      if (searchInputRef.current) {\n                                        searchInputRef.current.value = suggestion;\n                                        searchInputRef.current.dispatchEvent(new Event('change', { bubbles: true }));\n                                      }\n                                    }}\n                                    sx={{\n                                      cursor: 'pointer',\n                                      '&:hover': {\n                                        bgcolor: alpha(theme.palette.primary.main, 0.1),\n                                      }\n                                    }}\n                                  />\n                                ))}\n                              </Box>\n                            </Box>\n                          </>\n                        )}\n                      </Box>\n                    </motion.div>\n                  )}\n                </Box>\n              )}\n\n              {/* Chat Interface */}\n              {isChatMode && (\n                <motion.div\n                  initial={{ opacity: 0 }}\n                  animate={{ \n                    opacity: 1,\n                    transition: {\n                      delay: 0.3,\n                      duration: 0.3\n                    }\n                  }}\n                  exit={{ \n                    opacity: 0,\n                    transition: {\n                      duration: 0.2\n                    }\n                  }}\n                >\n                  <Box sx={{ \n                    display: 'flex',\n                    height: 'calc(90vh - 180px)',\n                  }}>\n                    {/* Messages */}\n                    <Box\n                      ref={chatContainerRef}\n                      onScroll={handleScroll}\n                      sx={{\n                        flex: '1 1 70%',\n                        overflowY: 'auto',\n                        p: 3,\n                        display: 'flex',\n                        flexDirection: 'column',\n                        gap: 3,\n                      }}\n                    >\n                      {chatHistory\n                        .filter(message => !message.isSearchQuery)\n                        .map((message) => (\n                          <motion.div\n                            key={message.id}\n                            initial={{ opacity: 0, y: 20 }}\n                            animate={{ opacity: 1, y: 0 }}\n                            transition={{ duration: 0.3 }}\n                          >\n                            <Box\n                              sx={{\n                                display: 'flex',\n                                flexDirection: message.type === 'user' ? 'row-reverse' : 'row',\n                                gap: 2,\n                                alignItems: 'flex-end',\n                              }}\n                            >\n                              <Avatar\n                                sx={{\n                                  width: 32,\n                                  height: 32,\n                                  bgcolor: message.type === 'user' ? 'primary.main' : 'secondary.main',\n                                  boxShadow: `0 2px 8px ${alpha('#000', 0.1)}`,\n                                }}\n                              >\n                                {message.type === 'user' ? 'U' : 'A'}\n                              </Avatar>\n                              <Box sx={{ maxWidth: '70%' }}>\n                                <Paper\n                                  elevation={0}\n                                  sx={{\n                                    p: 2,\n                                    borderRadius: '16px',\n                                    bgcolor: message.type === 'user' \n                                      ? alpha(theme.palette.primary.main, 0.1)\n                                      : alpha(theme.palette.grey[100], 0.8),\n                                    color: message.type === 'user'\n                                      ? theme.palette.primary.main\n                                      : theme.palette.text.primary,\n                                    border: '1px solid',\n                                    borderColor: message.type === 'user'\n                                      ? alpha(theme.palette.primary.main, 0.2)\n                                      : alpha('#000', 0.1),\n                                  }}\n                                >\n                                  <Typography variant=\"body2\" sx={{ whiteSpace: 'pre-wrap' }}>\n                                    {message.content}\n                                  </Typography>\n                                </Paper>\n                                <Typography\n                                  variant=\"caption\"\n                                  sx={{\n                                    mt: 0.5,\n                                    display: 'block',\n                                    textAlign: message.type === 'user' ? 'right' : 'left',\n                                    color: alpha('#000', 0.5),\n                                  }}\n                                >\n                                  {formatTimestamp(message.timestamp)}\n                                </Typography>\n                              </Box>\n                            </Box>\n                          </motion.div>\n                        ))}\n                    </Box>\n\n                    {/* Chat History Sidebar */}\n                    <Box sx={{ \n                      flex: '0 0 30%',\n                      borderLeft: `1px solid ${alpha('#000', 0.1)}`,\n                      bgcolor: alpha('#000', 0.02),\n                      display: { xs: 'none', md: 'flex' },\n                      flexDirection: 'column',\n                    }}>\n                      <Box sx={{ \n                        p: 2,\n                        borderBottom: `1px solid ${alpha('#000', 0.1)}`,\n                        display: 'flex',\n                        alignItems: 'center',\n                        justifyContent: 'space-between',\n                      }}>\n                        <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n                          <HistoryIcon sx={{ fontSize: 20, color: alpha('#000', 0.5) }} />\n                          <Typography variant=\"subtitle2\" sx={{ fontWeight: 600 }}>\n                            Chat History\n                          </Typography>\n                        </Box>\n                        <Tooltip title=\"Clear All\">\n                          <IconButton size=\"small\" onClick={clearHistory}>\n                            <ClearIcon fontSize=\"small\" />\n                          </IconButton>\n                        </Tooltip>\n                      </Box>\n                      <Box sx={{ p: 2, overflowY: 'auto' }}>\n                        {[\n                          { id: 'h1', title: 'Data Schema Questions', date: '2 hours ago', messageCount: 4 },\n                          { id: 'h2', title: 'API Integration Help', date: '5 hours ago', messageCount: 6 },\n                          { id: 'h3', title: 'Workflow Automation', date: 'Yesterday', messageCount: 3 },\n                        ].map((history) => (\n                          <Paper\n                            key={history.id}\n                            elevation={0}\n                            sx={{\n                              p: 2,\n                              mb: 1,\n                              borderRadius: '12px',\n                              cursor: 'pointer',\n                              border: '1px solid',\n                              borderColor: alpha('#000', 0.1),\n                              transition: 'all 0.2s ease',\n                              '&:hover': {\n                                bgcolor: alpha(theme.palette.primary.main, 0.05),\n                                borderColor: alpha(theme.palette.primary.main, 0.2),\n                                transform: 'translateY(-1px)',\n                              },\n                            }}\n                          >\n                            <Typography variant=\"body2\" sx={{ fontWeight: 500, mb: 0.5 }}>\n                              {history.title}\n                            </Typography>\n                            <Box sx={{ \n                              display: 'flex', \n                              justifyContent: 'space-between', \n                              alignItems: 'center',\n                            }}>\n                              <Typography variant=\"caption\" sx={{ color: alpha('#000', 0.5) }}>\n                                {history.date}\n                              </Typography>\n                              <Chip\n                                label={`${history.messageCount} msgs`}\n                                size=\"small\"\n                                sx={{\n                                  height: '20px',\n                                  fontSize: '0.75rem',\n                                  bgcolor: alpha(theme.palette.primary.main, 0.1),\n                                  color: theme.palette.primary.main,\n                                }}\n                              />\n                            </Box>\n                          </Paper>\n                        ))}\n                      </Box>\n                    </Box>\n                  </Box>\n                </motion.div>\n              )}\n\n              {/* Input Bar */}\n              <motion.div\n                initial={{ opacity: 0 }}\n                animate={{ \n                  opacity: 1,\n                  transition: {\n                    delay: 0.3,\n                    duration: 0.4\n                  }\n                }}\n                exit={{ \n                  opacity: 0,\n                  transition: {\n                    duration: 0.3\n                  }\n                }}\n              >\n                <Box sx={{ p: 2, borderTop: `1px solid ${alpha('#000', 0.1)}`, bgcolor: 'white' }}>\n                  <TextField\n                    fullWidth\n                    multiline\n                    maxRows={4}\n                    inputRef={searchInputRef}\n                    value={query}\n                    onChange={handleSearch}\n                    onKeyPress={handleKeyPress}\n                    placeholder={isChatMode ? \"Type your message...\" : \"Search or press Enter to chat...\"}\n                    InputProps={{\n                      startAdornment: (\n                        <InputAdornment position=\"start\">\n                          {isChatMode ? (\n                            <ChatIcon sx={{ color: theme.palette.primary.main }} />\n                          ) : (\n                            <SearchIcon sx={{ color: alpha('#000', 0.5) }} />\n                          )}\n                        </InputAdornment>\n                      ),\n                      endAdornment: (\n                        <InputAdornment position=\"end\">\n                          <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n                            {isLoading ? (\n                              <CircularProgress size={24} />\n                            ) : (\n                              isChatMode && query.trim() && (\n                                <IconButton\n                                  color=\"primary\"\n                                  onClick={() => handleKeyPress({ key: 'Enter', shiftKey: false, preventDefault: () => {} } as any)}\n                                >\n                                  <SendIcon />\n                                </IconButton>\n                              )\n                            )}\n                            <Chip\n                              label=\"⌘K\"\n                              size=\"small\"\n                              sx={{\n                                height: '24px',\n                                bgcolor: alpha('#000', 0.05),\n                                color: alpha('#000', 0.6),\n                                fontFamily: 'monospace',\n                                fontWeight: 600,\n                              }}\n                            />\n                          </Box>\n                        </InputAdornment>\n                      ),\n                    }}\n                    sx={{\n                      '& .MuiOutlinedInput-root': {\n                        borderRadius: '12px',\n                        bgcolor: alpha('#000', 0.02),\n                        '&:hover': {\n                          bgcolor: alpha('#000', 0.03),\n                        },\n                        '&.Mui-focused': {\n                          bgcolor: '#fff',\n                        },\n                      },\n                    }}\n                  />\n                </Box>\n              </motion.div>\n            </Paper>\n          </motion.div>\n        </motion.div>\n      )}\n    </AnimatePresence>\n  );\n};\n\nexport default UnifiedSearch; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}